<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" href="./index.css" />

    <title>Red Flag</title>
  </head>

  <body>
    <div class="controls">
      <button id="pause" type="button">pause</button>
      <button id="resume" type="button">resume</button>
    </div>

    <div class="wrapper">
      <div class="container">
        <svg viewBox="0 0 2000 1500">
          <defs>
            <filter id="wave-filter">
              <feImage
                id="image-filter"
                xlink:href="./map-raster.jpg"
                result="image"
                preserveAspectRatio="none"
                width="200%"
                height="100%"
                x="0"
                y="0"
              ></feImage>
              <feDisplacementMap
                in="SourceGraphic"
                in2="image"
                scale="30"
                xChannelSelector="R"
                yChannelSelector="B"
              />
            </filter>

            <path
              id="letter-r"
              d=""
              fill="none"
              stroke-width="50"
              stroke="var(--letter-color)"
            ></path>
            <path
              id="letter-e"
              d=""
              fill="none"
              stroke-width="50"
              stroke="var(--letter-color)"
            ></path>
            <path
              id="letter-d"
              d=""
              fill="none"
              stroke-width="50"
              stroke="var(--letter-color)"
            ></path>
            <path
              id="letter-f"
              d=""
              fill="none"
              stroke-width="50"
              stroke="var(--letter-color)"
            ></path>
            <path
              id="letter-l"
              d=""
              fill="none"
              stroke-width="50"
              stroke="var(--letter-color)"
            ></path>
            <path
              id="letter-a"
              d=""
              fill="none"
              stroke-width="50"
              stroke="var(--letter-color)"
            ></path>
            <path
              id="letter-g"
              d=""
              fill="none"
              stroke-width="50"
              stroke="var(--letter-color)"
            ></path>

            <g id="red-flag">
              <use href="#letter-r" x="0" y="0"></use>
              <use href="#letter-e" x="0" y="0"></use>
              <use href="#letter-d" x="0" y="0"></use>
              <use href="#letter-f" x="0" y="0"></use>
              <use href="#letter-l" x="0" y="0"></use>
              <use href="#letter-a" x="0" y="0"></use>
              <use href="#letter-g" x="0" y="0"></use>
            </g>
          </defs>

          <rect width="2000" height="1500" fill="var(--background-color)" />

          <g filter="url(#wave-filter)">
            <!-- top row -->
            <use href="#red-flag" x="-325" y="-575"></use>
            <use href="#red-flag" x="565" y="-575"></use>
            <use href="#red-flag" x="1455" y="-575"></use>

            <!-- middle row -->
            <use href="#red-flag" x="-325" y="315"></use>
            <use href="#red-flag" x="565" y="315"></use>
            <use href="#red-flag" x="1455" y="315"></use>

            <!-- bottom row -->
            <use href="#red-flag" x="-325" y="1205"></use>
            <use href="#red-flag" x="565" y="1205"></use>
            <use href="#red-flag" x="1455" y="1205"></use>
          </g>
        </svg>
      </div>
    </div>

    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"
      integrity="sha512-16esztaSRplJROstbIIdwX3N97V1+pZvV33ABoG1H2OyTttBxEGkTsoIVsiP1iaTtM8b3+hu2kB6pQ4Clr5yug=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script src="./index.js"></script>
  </body>
</html>
